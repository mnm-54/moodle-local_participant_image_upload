{"version":3,"file":"time_window_handler.min.js","sources":["../src/time_window_handler.js"],"sourcesContent":["import $ from \"jquery\";\nimport Ajax from \"core/ajax\";\n\nexport const init = (userId) => {\n  $(\".stop-btn\").on(\"click\", function () {\n    let elementId  = $(this).attr(\"id\");\n    console.log(elementId);\n    let idArray = elementId.split(\"-\");\n    let courseId = idArray[0];\n    let sessionId = parseInt(idArray[1]);\n    console.log(courseId);\n    console.log(sessionId);\n    toggle_time_window(courseId, userId, sessionId, 0);\n  });\n\n  $(\".start-btn\").on(\"click\", function () {\n    let courseID = $(this).attr(\"id\");\n\n    toggle_time_window(courseID, userId, 0, 1);\n  });\n\n  let toggle_time_window = (course_id, userid, sessionId, active) => {\n    // ajax call\n    let wsfunction = \"local_participant_image_upload_active_window\";\n    let params = {\n      courseid: course_id,\n      changedby: userid,\n      sessionid: sessionId,\n      active: active,\n    };\n    let request = {\n      methodname: wsfunction,\n      args: params,\n    };\n    console.log(request);\n\n    Ajax.call([request])[0]\n      .done(function (value) {\n        window.console.log(value);\n        window.location.href = $(location).attr(\"href\");\n      })\n      .fail(Notification.exception);\n  };\n};\n"],"names":["userId","on","elementId","this","attr","console","log","idArray","split","courseId","sessionId","parseInt","toggle_time_window","courseID","course_id","userid","active","request","methodname","args","courseid","changedby","sessionid","call","done","value","window","location","href","fail","Notification","exception"],"mappings":"wXAGoB,SAACA,4BACjB,aAAaC,GAAG,SAAS,eACrBC,WAAa,mBAAEC,MAAMC,KAAK,MAC9BC,QAAQC,IAAIJ,eACRK,QAAUL,UAAUM,MAAM,KAC1BC,SAAWF,QAAQ,GACnBG,UAAYC,SAASJ,QAAQ,IACjCF,QAAQC,IAAIG,UACZJ,QAAQC,IAAII,WACZE,mBAAmBH,SAAUT,OAAQU,UAAW,0BAGhD,cAAcT,GAAG,SAAS,eACtBY,UAAW,mBAAEV,MAAMC,KAAK,MAE5BQ,mBAAmBC,SAAUb,OAAQ,EAAG,UAGtCY,mBAAqB,SAACE,UAAWC,OAAQL,UAAWM,YASlDC,QAAU,CACZC,WARe,+CASfC,KARW,CACXC,SAAUN,UACVO,UAAWN,OACXO,UAAWZ,UACXM,OAAQA,SAMVX,QAAQC,IAAIW,uBAEPM,KAAK,CAACN,UAAU,GAClBO,MAAK,SAAUC,OACdC,OAAOrB,QAAQC,IAAImB,OACnBC,OAAOC,SAASC,MAAO,mBAAED,UAAUvB,KAAK,WAEzCyB,KAAKC,aAAaC"}